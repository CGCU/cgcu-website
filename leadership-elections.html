<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
		<!-- STD header v1.2.0 -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- To ensure proper rendering and touch zooming on mobile, add the viewport meta tag to your <head>. -->
        <!-- maximum-scale=1, user-scalable=no" make it so that the page cannot be zoomed on touch devices-->
        <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1, user-scalable=no">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

        <!-- Page Title -->
        <title>Elections - CGCU</title>

        <!-- Enable below before upload to prod -->
        <!-- base href="/cgcu/" -->

        <!-- Bootstrap -->
        <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

        <!-- Font Awesome (e.g. social media icons) -->
        <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">

        <!-- Stylesheet -->
        <link href="css/main.css" rel="stylesheet">
        <link href="css/navbar.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
      </head>

      <body>
        <!-- NAVBAR -->
        <nav class="navbar navbar-default navbar-fixed-top" id="navbar">
            <!-- VARIABLE: <div class="container-fluid"> when less than 1200
                 or <div class="container">
             -->
            <div class="container-fluid">
               <div class="variable-fluid">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <img class="img-responsive navbar-logo" src="images/cgcu_logo_small.jpg" alt="CGCU Logo" width="60">
                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-hover navbar-autoactivate" id="navlist">
                            <li><a href="index.html">Home</a></li>
                            <li class="dropdown"> <!-- About the CGCU, History & Mascots -->
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About<span class="caret"></span></a>
                                <ul class="dropdown-menu">
                                    <li><a href="committee.html">Committee</a></li>
                                    <li><a href="history.html">History</a></li>
                                    <li><a href="mascots.html">Mascots</a></li>
									<li><a href="cgca.html">CGCA</a></li>
                                </ul>
                            </li>

							<li class="dropdown"> <!-- Services -->
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">What We Offer<span class="caret"></span></a>
                                <ul class="dropdown-menu">
									<li><a href="events.html">Events</a></li>
									<li><a href="depsocs.html">DepSocs</a></li>
									<li><a href="clubs.html">Clubs</a></li>
									<li><a href="welfare.html">Welfare</a></li>
									<li><a href="regalia.html">Regalia</a></li>
								</ul>
                            </li>
							<li class="dropdown"> <!-- Publications -->
							    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Publications<span class="caret"></span></a>
                                <ul class="dropdown-menu">
									<li><a href="guildsheet.html">GuildSheet (Magazine)</a></li>
									<li><a href="freshers.html">The Spanner (Freshers)</a></li>
									<li><a href="//www.imperialcollegeunion.org/your-union/your-representatives/a-to-z/city-guilds-union" target="_blank">ICU CGCU Page <i class="fa fa-external-link" aria-hidden="true"></i></a></li>
									<li><a href="//www.imperialcollegeunion.org/your-union/how-were-run/committees/17-18" target="_blank">Meeting Minutes <i class="fa fa-external-link" aria-hidden="true"></i></a></li>
<li><a href="vat.html">VAT Guide</a></li>
								</ul>
                            </li>
                            <li><a href="sponsors.html">Sponsors</a></li>
                            <li><a href="contact.html">Contact</a></li>
                            <li><a href="awards.html">CGCU Awards</a></li>
                        </ul>

                        <!-- Fixed right side of the navbar -->
                        <ul class="navbar-social-media nav navbar-nav navbar-right">
                            <!-- Facebook icon & link, with facebook blue color -->
                            <!-- target="_blank" opens in new tab
                                  and rel="noopener noreferrer" protects against _blank vunerability -->
                            <li><a target="_blank" rel="noopener noreferrer"
                                   href="http://www.facebook.com/IC.CGCU/">
                                <i class="fa fa-facebook-official fa-2x header-icon" style="color: #c11919"></i>
                                <span id="facebook-navbar"></span>
                            </a></li>
                            <!-- Twitter icon & link, with facebook blue color -->
                            <li><a target="_blank" rel="noopener noreferrer"
                                   href="http://twitter.com/ic_cgcu/">
                                <i class="fa fa-twitter-square fa-2x header-icon" style="color: #c11919"></i>
                                <span id="twitter-navbar"></span>
                            </a></li>

                            <li><a target="_blank" rel="noopener noreferrer"
                                   href="https://instagram.com/ic_cgcu/">
                                <i class="fa fa-instagram fa-2x header-icon" style="color: #c11919"></i>
                                <span id="instagram-navbar"></span>
                            </a></li>

                        </ul>

                        <!-- END Fixed right side of the navbar -->

                    </div><!-- /.navbar-collapse -->
                </div><!-- /.container-fluid -->
            </div>
        </nav>
        <!-- END NAVBAR -->

    <div id="content">
    <!-- Start of page content -->


    <div class="jumbotron jumbotronTitle jumbotronImg" style="background-image: url('images/elections/banner.png'); background-attachment: local;" >
    <div class="container">
        <h1 class="page-title"><span>Leadership Elections 2019</span></h1>
    </div>
    </div>

        <div class="container well white-bkg">
            <p>
                <b>
                    These elections are now over! Find the results <a href="https://www.imperialcollegeunion.org/news/leadership-elections-2019-results">here.</a>
                    The remaining unelected positions are up for grabs in the <a href="elections.html">Summer Elections</a>.
                </b>
            </p>
            <p>
                As a democratic student union, we are run by our members, for our members.
                We are fully student lead and student run, meaning you can take an active part in shaping your union.
            </p>
            <p>
                As the student union representing Imperial's 4200 engineers, we annually elect the 25 officers of our committee
                to run the many events we host, represent our members education and welfare, lead our clubs and societies,
                and produce our student media.
            </p>
            <p>
                We seek to enable our new committee members to comfortable and confident in their roles,
                ensuring a smooth handover, providing training, guidance, and leadership.
            </p>
            <p>
                On this page, you can find descriptions of what each of our positions do,
                their responsibilities, and skills recommended.
                However, you do not need to have these skills to run,
                as long as you are eager to learn with our support you will do just fine.
            </p>
            <p>
                If you have any questions about a particular role,
                you want to get involved but are not sure where,
                or about anything else <a href="contact.html">please get in touch</a>.
            </p>
            <p>
                <i>Our members consist of all undergraduate students within 8 engineering departments:
                Aeronautics, Bioengineering, Civil Engineering, Chemical Engineering, Computing,
                Design Engineering, EEE, and Mechanical Engineering.</i>
            </p>
        </div>

        <div class="container page-subtitle" id="title">
            <h3>What positions are available?</h3>
        </div>

        <div class="container well white-bkg">
            <p>
                The following positions are up for grabs:
            </p>
            <div class="container">
                <div class="row" id="listOfRoles">
                    <!-- Filled by javascript -->
                </div>
            </div>

        </div>

        <!-- Filled by javascript -->
        <span id="roleDescriptions"></span>

        <!-- End of page content -->
        </div>

        <!-- FOOTER -->
        <footer>
            <div class="container well white-bkg footer-container">
                <img class="img-responsive" src="images/footer.png" alt="Footer Divider" width="1253" height="232">

                <div id="footer-text" class="text-center text-muted">
                    &copy; City and Guilds College Union 
                </div>
            </div>
            <script>
                function currentYear() { return (new Date()).getFullYear(); }
                document.getElementById("footer-text").innerText += " " + currentYear();
            </script>
        </footer>
        <!-- END FOOTER -->

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="js/jquery.min.js"></script>

        <!-- Bootstrap: Include all compiled plugins (below), or include individual files as needed -->
        <script src="bootstrap/js/bootstrap.min.js"></script>

        <!-- Main Javascript -->
        <script type="text/javascript" src="js/main.js"></script>

        <!-- Navbar JavaScript -->
        <script type="text/javascript" src="js/navbar.js"></script>

        <script>
            function scrollToPosition(e, that) {
                e = e || window.event;
                e.preventDefault();
                console.log(this)
                let target = document.querySelector(that.getAttribute("href")),
                    p = target.offsetTop,
                    offset = 50;

                p = p - offset;
                $('body, html').animate({ 'scrollTop': p }, 250);
            }

            function generateAnchor(text) {
              return text.toLowerCase().replace(/ /g, '-').replace(/[^A-Za-z0-9_-]/g, '');
            }

            $.get("data/nominations.json", function(roleDescriptions) {
                /* format of nominations.json
                {
                "roleDescriptions": [
                    {
                        "roleName": "",
                        "id": "",
                        "roleDescription": ["", ""],
                        "responsibilities": ["", ""],
                        "skills": ["", ""]
                    }
                  ]
                } */

                // Display a clickable list of roles

                // two columns displayed
                const numRoles = roleDescriptions.length;
                const numRolesInEachList = numRoles / 2;

                let list1 = "";
                let list2 = "";
                for (let i = 0; i < numRoles; i++) {
                    let descObj = roleDescriptions[i];
                    let toAppend = `<li><a href="#${generateAnchor(descObj.roleName)}" onclick="scrollToPosition(event, this)">${descObj.roleName}</a></li>`;
                    if(i < numRolesInEachList) {
                        list1 += toAppend;
                    } else {
                        list2 += toAppend;
                    }
                }

                // two columns displayed
                // width 4 so not take up whole width of page
                $("#listOfRoles").append(
                    `<div class="col-sm-4">
                        <ul>
                            ${list1}
                        </ul>
                     </div>
                     <div class="col-sm-4">
                        <ul>
                            ${list2}
                        </ul>
                     </div>`
                );

                // Display each role and description
                roleDescriptions.forEach(function (descObj) {
                    // retrieve intro text
                    let descIntro = "";
                    descObj.roleDescription.forEach(function (para) {
                       descIntro += `<p>${para}</p>`;
                    });

                    // retrieve resp list
                    let responsibilities = "<ul>";
                    descObj.responsibilities.forEach(function (resp) {
                       responsibilities += `<li>${resp}</li>`;
                    });
                    responsibilities += "</ul>";

                    // retrieve skills list
                    let skills = "<ul>";
                    descObj.skills.forEach(function (resp) {
                        skills += `<li>${resp}</li>`;
                    });
                    skills += "</ul>";

                    // glue it all together
                    $("#roleDescriptions").append(
                        `<div class="container page-subtitle" id="${generateAnchor(descObj.roleName)}">
                            <h3>${descObj.roleName}</h3>
                        </div>
                        <div class="container well white-bkg">
                            ${descIntro}

                            <strong>Responsibilities:</strong>
                                ${responsibilities}

                            <strong>Recommended Skills:</strong>
                                ${skills}

                            <p>
                            If you have any questions about the role, please <a href="contact.html">get in touch</a>.<br>
                            Nominate yourself for this role <a href="https://vote.union.ic.ac.uk/login.php">here</a>.<br>
                            For more information and the rules for the elections, <a href="https://www.imperialcollegeunion.org/your-union/leadership-elections-2019/information-for-candidates">click here.
                            </p>
                        </div>`
                    );
                });
            });
        </script>

        <!-- GA - CGCU.net -->
        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-104143018-1', 'auto');
        ga('send', 'pageview');
        </script>

        </body>
</html>
